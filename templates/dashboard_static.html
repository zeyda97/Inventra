<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inventra Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/dashboard.css') }}" rel="stylesheet">
</head>
<body class="p-6">

  <h1 class="text-3xl font-bold text-center text-indigo-700 mb-6">
    üìä Tableau de bord Inventra 
  </h1>
<div class="flex justify-end mb-4 space-x-3">
  <button
    onclick="window.print()"
    class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md"
  >
    üñ®Ô∏è Imprimer / PDF rapide
  </button>

  <a
    href="{{ url_for('dashboard.export_pdf') }}"
    class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md"
  >
    üìÑ Exporter en PDF
  </a>
</div>
<!-- Ajoutez cette ligne dans votre dashboard_static.html -->
<div style="text-align: center; margin: 20px;">
    <a href="/home" style="padding: 10px 20px; background: #6c757d; color: white; text-decoration: none; border-radius: 5px;">
        ‚Üê Retour √† l'accueil
    </a>
</div>
  <!-- üîç Barre de recherche + filtre -->
  <div class="filter-container flex flex-col md:flex-row items-center justify-between mb-6">
    <input
      type="text"
      id="searchInput"
      placeholder="üîç Rechercher un produit..."
      class="search-input flex-1 md:w-2/3"
    />

    <div class="brand-filter flex items-center gap-2 mt-4 md:mt-0">
      <span class="filter-icon text-indigo-600 text-xl">‚öôÔ∏è</span>
      <label for="brandFilter" class="text-gray-700 font-medium">filtre :</label>
      <select id="brandFilter" class="brand-select">
        <option value="">Marque</option>
        {% for marque in data %}
          <option value="{{ marque['Marque'] }}">{{ marque['Marque'] }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  <!-- üì¶ Conteneur principal -->
  <div id="dashboard-container">
    {% for marque in data %}
      <div class="marque-section" data-marque="{{ marque['Marque'] }}">
        <div class="marque-header">
          {{ marque["Marque"] }}
        </div>

        <table class="table">
          <thead>
            <tr>
              <th>Produit</th>
              <th>Stock</th>
              <th>V60</th>
              <th>V120</th>
              <th>V180</th>
              <th>V365</th>
              <th>Suggestion (3m)</th>
              <th>Alerte</th>
            </tr>
          </thead>
          <tbody>
            {% for p in marque["Produits"] %}
            <tr class="product-row">
              <td>{{ p["Produit"] }}</td>
              <td>{{ p["Stock"] }}</td>
              <td>{{ p["V60"] }}</td>
              <td>{{ p["V120"] }}</td>
              <td>{{ p["V180"] }}</td>
              <td>{{ p["V365"] }}</td>
              <td>{{ p["Suggestion (3m)"] }}</td>
              <td>
                {% if "OK" in p["Alerte"] %}
                  <span class="alerte-ok">{{ p["Alerte"] }}</span>
                {% else %}
                  <span class="alerte-rupture">{{ p["Alerte"] }}</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endfor %}
  </div>

  <!-- üìÑ Pagination -->
  <div class="pagination-container text-center mt-6">
    <button id="prevPage" class="pagination-btn">‚¨ÖÔ∏è Pr√©c√©dent</button>
    <span id="pageInfo" class="mx-3 text-gray-700"></span>
    <button id="nextPage" class="pagination-btn">Suivant ‚û°Ô∏è</button>
  </div>

  <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>

